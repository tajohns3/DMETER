<%= form_for(@user) do |f| %>
    <% if @user.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

          <ul>
            <% @user.errors.full_messages.each do |message| %>
                <li><%= message %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="container">
      <div class="panel panel-primary">
        <div class="panel-heading text-center">
          <h1 class="panel-title text-center">
            <%= link_to 'Back', users_path, class: "btn btn-success pull-left",:style=>'color:#FFFFFF' %>
            <%= link_to 'Cancel', root_path, class: "btn btn-danger pull-right",:style=>'color:#FFFFFF' %>
            <b>Create New User</b>
          </h1>
        </div>
        <div class="panel-body">
          <div class="row">
            <div class="col-md-6">
              <div class="panel panel-default">
                <div class="panel-heading text-center">
                  <b>User Information</b>
                </div>
                <div class="panel-body">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <%=f.label :first_name%>
                        <%=f.text_field :first_name, class: 'form-control'%>
                      </div>
                    </div>
                    <div class="row"></div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <%=f.label :sur_name%>
                        <%=f.text_field :sur_name, class: 'form-control'%>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <%=f.label :phone%>
                        <%=f.text_field :phone, class: 'form-control'%>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <%=f.label :location%>
                        <%=f.select :location, options_for_select([["Home Office",'home_office'],["Field Staff",'field_staff']]),{:include_blank => ''}, class: 'form-control'%>
                      </div>
                    </div>
                  </div>


                  <div class="row" id="role_select">
                    <div class="form-group">
                      <div class="col-md-6">
                        <div class="form-group">
                          <%=f.label :state_id%> <br />
                          <%=f.collection_select :state_id, State.all, :id, :state%>

                          <%=f.label :role, 'Position'%>
                          <%=f.select :role, options_for_select([["Sales Representative", 'sale_representative'],["Area Manager",'area_manager'],["State_Manager",'state_manager']]),
                                      {:include_blank => ''},
                                      class: 'form-control'%>


                          <%=f.hidden_field :user_name, class: 'form-control'%>
                        </div>
                      </div>
                    </div>

                  </div>

                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <%= f.label :email %><br />
                        <%= f.email_field :email, autofocus: true, class: 'form-control' %>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>





            <div class="col-md-6">
              <div class="panel panel-default">
                <div class="panel-heading text-center">
                  <b>User Permission</b>
                </div>

                <div class="panel-body">
                  <p>Approve or Deny user account:</p>
                  <div class="form-group">
                    <div class="col-md-4">
                      <div class="row">
                        <%=f.label :approved, 'Deny Account'%>
                        <%=f.radio_button :approved, false, :checked => !@user.approved, :value=> false%>
                      </div>
                    </div>

                    <div class="form-group">
                      <div class="col-md-4">
                        <%=f.label :approved, 'Approve Account'%>
                        <%=f.radio_button :approved, true, :checked => @user.approved, :value=> true%>
                      </div>
                    </div>

<br>
                  </div>

                  <br>
                  <p>Select user access:</p>
                  <div class="form-group">
                    <div class="col-md-4">
                      <div class="row">
                        <%=f.label :access, 'Read Access'%>
                        <%=f.radio_button :access, false, :checked => @user.access, :value=> false%>
                      </div>
                    </div>

                    <div class="form-group">
                      <div class="col-md-4">
                        <%=f.label :access, 'Input Access'%>
                        <%=f.radio_button :access, true, :checked => @user.access, :value=> true%>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="actions">
                <%= f.submit "Submit", class: "btn btn-primary"%>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
      </div>
<% end %>

