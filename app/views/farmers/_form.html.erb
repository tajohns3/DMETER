<link rel="stylesheet" type="text/css" media="screen" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" />
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<link href="./css/prettify-1.0.css" rel="stylesheet">
<link href="./css/base.css" rel="stylesheet">
<link href="//cdn.rawgit.com/Eonasdan/bootstrap-datetimepicker/e8bddc60e73c1ec2475f827be36e1957af72e2ea/build/css/bootstrap-datetimepicker.css" rel="stylesheet">
<script type="text/javascript" src="//code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.js"></script>
<script src="//cdn.rawgit.com/Eonasdan/bootstrap-datetimepicker/e8bddc60e73c1ec2475f827be36e1957af72e2ea/src/js/bootstrap-datetimepicker.js"></script>

<%= form_for(@farmer) do |f| %>
    <% if @farmer.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@farmer.errors.count, "error") %> prohibited this farmer from being saved:</h2>

          <ul>
            <% @farmer.errors.full_messages.each do |message| %>
                <li><%= message %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="container">
      <div class="panel panel-primary">
        <div class="panel-heading text-center">
          <h1 class="panel-title text-center">
            <b> Add new farmer</b>
          </h1>
        </div>
        <div class="panel-body">
          <div class="row">
            <div class="col-md-6">
              <div class="panel panel-default">
                <div class="panel-heading text-center">
                  <b>Geographic Information</b>
                </div>
                <div class="panel-body">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <%= f.label :State %><br>
                        <%= f.collection_select :stid, State.all, :id, :state, {:include_blank => true}, {class: "form-control"} %>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <%= f.label 'State Manager' %><br>
                        <%= f.collection_select :useridstmgr, User.all, :id, :fullname, {:include_blank => true}, {class: "form-control"} %>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <%= f.label 'Select Area Manager' %><br>
                        <%= f.collection_select :useridamgr, User.all, :id, :fullname, {:include_blank => true}, {class: "form-control"} %>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <%= f.label 'Select Sales Representative' %><br>
                        <%= f.collection_select :useridsr, User.all, :id, :fullname, {:include_blank => true}, {class: "form-control"} %>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <%= f.label 'Select Pocket' %><br>
                        <%= f.collection_select :pocketid, Pocket.all, :id, :pocket_name, {:include_blank => true}, {class: "form-control"} %>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <%= f.label 'Select Dealer' %><br>
                        <%= f.collection_select :dealerid, Dealer.all, :id, :name, {:include_blank => true}, {class: "form-control"} %>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="panel panel-default">
                <div class="panel-heading text-center">
                  <b>Farmer Information</b>
                </div>
                <div class="panel-body">
                  <div class="row">
                    <div class="col-md-8">
                      <div class="form-group">
                        <div>
                          <%= f.label 'Farmer Name' %><br>
                          <%= f.text_field :name, {class: "form-control"} %>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <%= f.label 'Select Village' %>
                        <%= f.collection_select :villageid, Village.all, :id, :name, {:include_blank => true}, {class: "form-control"} %>
                      </div>
                    </div>
                    <div class="col-md-8">
                      <div class="form-group">
                        <div>
                          <%= f.label 'Farmer Phone Number' %><br>
                          <%= f.text_field :phnumber, {class: "form-control"} %>
                        </div>
                      </div>
                      <div>
                        <%= f.label 'Introductory Call to Farmer' %><br>
                      </div>
                      <div class='input-group date' id='datetimepicker1'>
                        <%=f.text_field :introcall, {class: "form-control"} %>
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                        <script type="text/javascript">
                          $(function () {
                            $('#datetimepicker1').datetimepicker();
                          });
                        </script>
                      </div><br>
                      <div class="col-md-13">
                        <div class="form-group">
                          <div>
                            <%= f.label 'Has the data been verified with the Farmer?' %><br>
                            <%= f.radio_button(:callverified, "Yes") %>
                            <%= label_tag(:callverified, 'Yes') %>
                            <%= f.radio_button(:callverified, "No") %>
                            <%= label_tag(:callverified, 'No') %>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title text-center">
                    <b>Crop Information</b>
                  </h3>
                </div>
                <div class="panel-body">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="row">
                        <div class="col-md-4">
                        </div>
                        <div class="col-md-4 text-center">
                          <%= link_to_add_association "Add Crop Information", f, :farmcrops ,class: "btn btn-info",:style=>'color:#FFFFFF'%>
                        </div>
                        <div class="col-md-4">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4">
              <%= link_to 'Cancel', root_path, class: "btn btn-danger",:style=>'color:#FFFFFF' %>
            </div>
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
              <div class="actions">
                <%= f.submit "Submit", class: "btn btn-primary pull-right"%>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
<% end %>
